<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine Surprise for Ruthu</title>
  <style>
    * { box-sizing: border-box; font-family: "Comic Sans MS", "Comic Sans", cursive; }
    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* üíñ Floating hearts */
    .hearts { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
    .heart {
      position: absolute;
      bottom: -20px;
      animation: floatUp linear forwards;
      opacity: 0.8;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      20% { opacity: 1; }
      100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
    }

    .card {
      background: white;
      padding: 30px 20px;
      border-radius: 20px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      text-align: center;
      max-width: 90%;
      z-index: 2;
      animation: fadeCard 1s ease forwards;
      opacity: 0;
    }
    @keyframes fadeCard { to { opacity: 1; } }

    h1 {
      color: #ff4d6d;
      font-size: 2rem;
      margin-bottom: 25px;
      word-wrap: break-word;
    }
    .heartbeat { display: inline-block; animation: pulse 1.2s infinite ease-in-out; }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }

    .buttons { position: relative; height: 80px; display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
    button {
      font-size: 1.3rem;
      padding: 15px 25px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    #yesBtn { background: #ff4d6d; color: white; }
    #yesBtn:hover { transform: scale(1.1); }
    #noBtn { background: #adb5bd; color: white; position: absolute; }

    .success {
      display: none;
      color: #ff4d6d;
      font-size: 1.8rem;
      margin-bottom: 15px;
      word-wrap: break-word;
    }

    .photo {
      display: none;
      margin-top: 15px;
    }
    .photo img {
      width: 100%;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }

    /* üéâ Confetti burst for YES */
    .confetti {
      position: absolute;
      font-size: 18px;
      z-index: 3;
      pointer-events: none;
      animation: confettiFall 3s forwards;
    }
    @keyframes confettiFall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    /* Invisible play button for mobile autoplay */
    #playBtn {
      position: absolute;
      width: 1px; height: 1px;
      opacity: 0;
      pointer-events: none;
    }

    /* Responsive adjustments */
    @media (max-width: 400px) {
      h1 { font-size: 1.6rem; }
      button { font-size: 1.1rem; padding: 12px 20px; }
      .success { font-size: 1.5rem; }
      .photo img { width: 100%; height: auto; }
    }
  </style>
</head>
<body>

  <!-- üíñ Floating hearts -->
  <div class="hearts" id="hearts"></div>

  <!-- üé∂ Music -->
  <audio id="bgMusic" loop preload="auto" autoplay muted>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <!-- Invisible play button for mobile autoplay -->
  <button id="playBtn">Play</button>

  <div class="card">
    <h1 id="question">
      Will you be my Valentine?
      <span class="heartbeat">üòç</span>
      <span class="heartbeat">ü•∞</span>
      <span class="heartbeat">‚ù§Ô∏è</span>
    </h1>

    <div class="buttons" id="buttons">
      <button id="yesBtn">Yes üíò</button>
      <button id="noBtn">No üíî</button>
    </div>

    <div class="success" id="success">
      I love you so much Ruthu ‚ù§Ô∏èüòò
    </div>

    <div class="photo" id="photo">
      <img src="proposal.jpg" alt="Our special moment">
    </div>
  </div>

  <script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const buttons = document.getElementById("buttons");
    const success = document.getElementById("success");
    const question = document.getElementById("question");
    const photo = document.getElementById("photo");
    const music = document.getElementById("bgMusic");
    const hearts = document.getElementById("hearts");
    const playBtn = document.getElementById("playBtn");

    // üé∂ Music fade-in
    let musicFadedIn = false;
    function fadeInMusic() {
      if (musicFadedIn) return;
      music.muted = false;
      let vol = 0;
      const fadeInterval = setInterval(() => {
        vol += 0.005;
        if (vol >= 0.5) { vol = 0.5; clearInterval(fadeInterval); }
        music.volume = vol;
      }, 50);
      musicFadedIn = true;
    }

    // Mobile autoplay
    function autoPlayMusic() {
      playBtn.click();
      fadeInMusic();
    }
    window.addEventListener("load", autoPlayMusic);
    document.addEventListener("click", fadeInMusic, { once: true });
    document.addEventListener("keydown", fadeInMusic, { once: true });
    document.addEventListener("touchstart", fadeInMusic, { once: true });

    // üíñ Floating hearts
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "‚ù§Ô∏è";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = (12 + Math.random() * 16) + "px";
      heart.style.animationDuration = (4 + Math.random() * 3) + "s";
      hearts.appendChild(heart);
      setTimeout(() => heart.remove(), 7000);
    }
    setInterval(createHeart, 400);

    // üòà NO button constantly moves randomly
    function moveNoButton() {
      const rect = buttons.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      let maxLeft = Math.max(0, rect.width - btnRect.width);
      let maxTop = Math.max(0, rect.height - btnRect.height);
      noBtn.style.left = Math.random() * maxLeft + "px";
      noBtn.style.top = Math.random() * maxTop + "px";
    }
    setInterval(moveNoButton, 500);

    // üíò YES button click
    yesBtn.addEventListener("click", () => {
      fadeInMusic();
      buttons.style.display = "none";
      question.style.display = "none";
      success.style.display = "block";
      photo.style.display = "block"; // show photo clearly without zoom

      // üéâ Confetti burst
      for(let i=0;i<30;i++){
        const confetti = document.createElement("div");
        confetti.className="confetti";
        confetti.textContent = "üíñ";
        confetti.style.left = Math.random()*100 + "vw";
        confetti.style.fontSize = (10 + Math.random()*15) + "px";
        confetti.style.animationDuration = (2 + Math.random()*2) + "s";
        document.body.appendChild(confetti);
        setTimeout(()=>confetti.remove(),4000);
      }
    });
  </script>

</body>
</html>
